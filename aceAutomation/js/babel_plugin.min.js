let MAX_SOURCE_ITERATIONS=5e3;const preventInfiniteLoops=({types:e,template:t})=>{const n=t("\n    if (ITERATOR++ > MAX_ITERATIONS) {\n      throw new RangeError(\n        'Potential infinite loop: exceeded ' +\n        MAX_ITERATIONS +\n        ' iterations. You can change max iteration limit in Editor Configure.'\n      );\n    }\n  ");return{visitor:{"WhileStatement|ForStatement|DoWhileStatement":(t,i)=>{const o=t.scope.parent.generateUidIdentifier("loopIt"),r=e.numericLiteral(0);t.scope.parent.push({id:o,init:r});const a=n({ITERATOR:o,MAX_ITERATIONS:e.numericLiteral(MAX_SOURCE_ITERATIONS)});if(t.get("body").isBlockStatement())t.get("body").unshiftContainer("body",a);else{const n=t.get("body").node;t.get("body").replaceWith(e.blockStatement([a,n]))}}}}};